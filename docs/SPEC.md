# Merminal - ê¸°ëŠ¥ ëª…ì„¸ì„œ

## 1. í”„ë¡œì íŠ¸ ê°œìš”

### ë¹„ì „
Markdown WYSIWYG ì—ë””í„°ì™€ í„°ë¯¸ë„ì„ í•˜ë‚˜ì˜ ë°ìŠ¤í¬íƒ‘ ì•±ì— í†µí•©í•˜ì—¬, AI ì½”ë”© ë„êµ¬(Claude Code, Codex, Gemini CLI ë“±)ë¥¼ ìì—°ìŠ¤ëŸ½ê²Œ í™œìš©í•  ìˆ˜ ìˆëŠ” ê°œë°œ í™˜ê²½.

### í•µì‹¬ ê°€ì¹˜
| êµ¬ë¶„ | ì„¤ëª… |
|------|------|
| **ë¬¸ì œ** | AI ì½”ë”© ë„êµ¬ëŠ” í„°ë¯¸ë„ì—ì„œ ì‹¤í–‰ë˜ì§€ë§Œ, ê²°ê³¼ë¬¼(Markdown, ì½”ë“œ)ì„ í™•ì¸í•˜ë ¤ë©´ ë³„ë„ ì—ë””í„° í•„ìš” |
| **í•´ê²°** | ì—ë””í„°ì™€ í„°ë¯¸ë„ì„ ë‚˜ë€íˆ ë°°ì¹˜í•˜ì—¬ AIê°€ ìƒì„±/ìˆ˜ì •í•˜ëŠ” íŒŒì¼ì„ ì‹¤ì‹œê°„ìœ¼ë¡œ í™•ì¸ |
| **ì°¨ë³„ì ** | Obsidian(ì—ë””í„°) + Terminal Emulatorë¥¼ í•˜ë‚˜ë¡œ ê²°í•©í•œ "AI ì½”ë”© ì›Œí¬ìŠ¤í…Œì´ì…˜" |

### ëŒ€ìƒ ì‚¬ìš©ì
- AI ì½”ë”© ë„êµ¬(Claude Code, Codex, Gemini CLI)ë¥¼ ì£¼ë ¥ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ê°œë°œì
- Markdown ê¸°ë°˜ ë¬¸ì„œ ì‘ì—…ì„ ë³‘í–‰í•˜ëŠ” ê°œë°œì

---

## 2. í™•ì • ì‚¬í•­

- **í”„ë ˆì„ì›Œí¬**: Electron
- **íƒ€ì´í‹€ë°”**: ì»¤ìŠ¤í…€ íƒ€ì´í‹€ë°” (VS Code ìŠ¤íƒ€ì¼, macOS traffic light í†µí•©)
- **íƒ€ê²Ÿ í”Œë«í¼**: macOS ìš°ì„ , ì´í›„ Windows/Linux í™•ì¥
- **ì—ë””í„° ëª¨ë“œ**: WYSIWYG (Obsidian Live Preview ìŠ¤íƒ€ì¼)
- **Activity Bar**: íŒŒì¼ íƒìƒ‰ê¸° + ê²€ìƒ‰ (2ê°œ íŒ¨ë„)

---

## 3. ê¸°ëŠ¥ ìš°ì„ ìˆœìœ„

### Must Have (MVP)

| ID | ê¸°ëŠ¥ | ì„¤ëª… |
|----|------|------|
| M-01 | WYSIWYG Markdown ì—ë””í„° | Obsidian Live Preview ìŠ¤íƒ€ì¼. ì»¤ì„œ ìœ„ì¹˜ëŠ” ì†ŒìŠ¤, ë‚˜ë¨¸ì§€ëŠ” ë Œë”ë§ |
| M-02 | í†µí•© í„°ë¯¸ë„ | xterm.js + node-pty ê¸°ë°˜ ì™„ì „í•œ í„°ë¯¸ë„ ì—ë®¬ë ˆì´í„° |
| M-03 | Split View ë ˆì´ì•„ì›ƒ | Activity Bar + Sidebar + ì—ë””í„° + í„°ë¯¸ë„, ë“œë˜ê·¸ ë¦¬ì‚¬ì´ì¦ˆ |
| M-04 | Activity Bar + Sidebar | ì¢Œì¸¡ ì•„ì´ì½˜ ë°” + í† ê¸€ ê°€ëŠ¥í•œ ì‚¬ì´ë“œë°” íŒ¨ë„ |
| M-05 | íŒŒì¼ íƒìƒ‰ê¸° | í”„ë¡œì íŠ¸ ë””ë ‰í† ë¦¬ íŠ¸ë¦¬ í‘œì‹œ, .gitignore í•„í„°ë§, íŒŒì¼ ì—´ê¸° |
| M-06 | í”„ë¡œì íŠ¸ ì „ì²´ ê²€ìƒ‰ | íŒŒì¼ ë‚´ìš© ê²€ìƒ‰/ë°”ê¾¸ê¸°, ê²€ìƒ‰ ê²°ê³¼ ëª©ë¡ì—ì„œ íŒŒì¼ ì—´ê¸° |
| M-07 | íŒŒì¼ ì—´ê¸°/ì €ì¥ | ë¡œì»¬ íŒŒì¼ ì‹œìŠ¤í…œ ì½ê¸°/ì“°ê¸°, ë„¤ì´í‹°ë¸Œ ë‹¤ì´ì–¼ë¡œê·¸ |
| M-08 | íŒŒì¼ ë³€ê²½ ê°ì§€ | ì™¸ë¶€(AI ë„êµ¬)ì—ì„œ íŒŒì¼ ë³€ê²½ ì‹œ ì—ë””í„° ìë™ ë°˜ì˜ |
| M-09 | ë‹¤ì¤‘ íƒ­ | ì—¬ëŸ¬ íŒŒì¼ì„ íƒ­ìœ¼ë¡œ ì—´ì–´ ì „í™˜ |
| M-10 | ì»¤ìŠ¤í…€ íƒ€ì´í‹€ë°” | macOS traffic light í†µí•©, ë“œë˜ê·¸ë¡œ ì°½ ì´ë™ |

### Should Have (MVP ì§í›„)

| ID | ê¸°ëŠ¥ | ì„¤ëª… |
|----|------|------|
| S-01 | ì½”ë“œ ë¸”ë¡ êµ¬ë¬¸ ê°•ì¡° | Markdown ë‚´ ì½”ë“œ ë¸”ë¡ì— ì–¸ì–´ë³„ Syntax Highlighting |
| S-02 | ë‹¤ì¤‘ í„°ë¯¸ë„ íƒ­/ë¶„í•  | ì—¬ëŸ¬ í„°ë¯¸ë„ ì„¸ì…˜ ë™ì‹œ ì‹¤í–‰ |
| S-03 | í…Œë§ˆ ì‹œìŠ¤í…œ | Light/Dark í…Œë§ˆ ì „í™˜ |
| S-04 | Mermaid / LaTeX | ë‹¤ì´ì–´ê·¸ë¨, ìˆ˜ì‹ ë Œë”ë§ |
| S-05 | í‚¤ë³´ë“œ ë‹¨ì¶•í‚¤ ì»¤ìŠ¤í„°ë§ˆì´ì¦ˆ | ì‚¬ìš©ì ì •ì˜ ë‹¨ì¶•í‚¤ |

### Could Have (ê³ ë„í™”)

| ID | ê¸°ëŠ¥ | ì„¤ëª… |
|----|------|------|
| C-01 | Git í†µí•© | íŒŒì¼ ìƒíƒœ í‘œì‹œ, ê¸°ë³¸ Git ì¡°ì‘ UI |
| C-02 | í„°ë¯¸ë„-ì—ë””í„° ë”¥ ì—°ë™ | í„°ë¯¸ë„ ì¶œë ¥ì˜ íŒŒì¼ ê²½ë¡œ Cmd+Clickìœ¼ë¡œ ì—´ê¸° |
| C-03 | AI ë„êµ¬ í”„ë¦¬ì…‹ | Claude Code, Codex ë“± ì›í´ë¦­ ì‹¤í–‰ |
| C-04 | í”ŒëŸ¬ê·¸ì¸ ì‹œìŠ¤í…œ | ì‚¬ìš©ì í™•ì¥ ê¸°ëŠ¥ |
| C-05 | í”„ë¡œì íŠ¸ ê´€ë¦¬ | ìµœê·¼ í”„ë¡œì íŠ¸ ëª©ë¡, í”„ë¡œì íŠ¸ ì „í™˜ |

---

## 4. UI ë ˆì´ì•„ì›ƒ

```
+----+----------+-----------------------------+----------------------+
| AB |  Sidebar |  Editor (WYSIWYG)           |  Terminal            |
|    |          |                             |                      |
| ğŸ“ | src/     |  # Hello World              |  $ claude            |
| ğŸ” |  main/   |                             |  > Working on...     |
|    |  render/ |  This is **bold** text      |                      |
|    |  ...     |                             |                      |
|    |          |  - list item 1              |                      |
|    |          |  - list item 2              |                      |
+----+----------+-----------------------------+----------------------+
|  Status Bar: [branch: main] [Ln 42, Col 5] [UTF-8] [Markdown]      |
+---------------------------------------------------------------------+
```

### êµ¬ì„± ìš”ì†Œ
- **Activity Bar** (48px ê³ ì •): ì•„ì´ì½˜ ë²„íŠ¼ìœ¼ë¡œ Sidebar íŒ¨ë„ ì „í™˜ (íŒŒì¼ íƒìƒ‰ê¸°, ê²€ìƒ‰)
- **Sidebar** (ê¸°ë³¸ 250px, ë¦¬ì‚¬ì´ì¦ˆ ê°€ëŠ¥, í† ê¸€): ì„ íƒëœ íŒ¨ë„ ë‚´ìš© í‘œì‹œ
- **Editor Area** (ê°€ë³€): WYSIWYG Markdown ì—ë””í„° + íƒ­ ë°”
- **Terminal Area** (ê°€ë³€, í† ê¸€): xterm.js í„°ë¯¸ë„
- **Status Bar** (í•˜ë‹¨ ê³ ì •): íŒŒì¼ ì •ë³´, ì»¤ì„œ ìœ„ì¹˜ ë“±

### ë°˜ì‘í˜•
- 1400px ì´ìƒ: ì „ì²´ ë ˆì´ì•„ì›ƒ í‘œì‹œ
- 900~1400px: Sidebarë¥¼ ì˜¤ë²„ë ˆì´ë¡œ ì „í™˜
- 900px ë¯¸ë§Œ: ì—ë””í„°/í„°ë¯¸ë„ íƒ­ ì „í™˜

---

## 5. ê¸°ìˆ  ìŠ¤íƒ

| ê³„ì¸µ | ê¸°ìˆ  | ì´ìœ  |
|------|------|------|
| Framework | Electron | í¬ë¡œìŠ¤ í”Œë«í¼, ì›¹ ê¸°ìˆ  í™œìš© |
| ë¹Œë“œ | electron-vite | ë¹ ë¥¸ HMR |
| UI | React 18+ | ì»´í¬ë„ŒíŠ¸ ê¸°ë°˜, í’ë¶€í•œ ì—ì½”ì‹œìŠ¤í…œ |
| ìƒíƒœ ê´€ë¦¬ | Zustand | ê²½ëŸ‰, ë³´ì¼ëŸ¬í”Œë ˆì´íŠ¸ ìµœì†Œ |
| ì—ë””í„° | CodeMirror 6 | WYSIWYG decoration ì§€ì›, í™•ì¥ ê°€ëŠ¥ |
| Markdown | unified (remark + rehype) | í™•ì¥ ê°€ëŠ¥í•œ íŒŒì´í”„ë¼ì¸ |
| í„°ë¯¸ë„ | xterm.js + node-pty | VS Codeì™€ ë™ì¼í•œ ì‚°ì—… í‘œì¤€ |
| íŒŒì¼ ê°ì‹œ | chokidar | ì•ˆì •ì  í¬ë¡œìŠ¤ í”Œë«í¼ watcher |
| ìŠ¤íƒ€ì¼ | Tailwind CSS | ìœ í‹¸ë¦¬í‹° ê¸°ë°˜, ë¹ ë¥¸ UI êµ¬ì¶• |
| ì–¸ì–´ | TypeScript | íƒ€ì… ì•ˆì •ì„± |

---

## 6. í”„ë¡œì íŠ¸ êµ¬ì¡°

```
merminal/
â”œâ”€â”€ package.json
â”œâ”€â”€ electron.vite.config.ts
â”œâ”€â”€ tsconfig.json
â”œâ”€â”€ resources/                    # ì•± ì•„ì´ì½˜, ì •ì  ì—ì…‹
â”‚
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main/                     # Electron Main Process
â”‚   â”‚   â”œâ”€â”€ index.ts              # ì•± ì§„ì…ì 
â”‚   â”‚   â”œâ”€â”€ menu.ts               # ë„¤ì´í‹°ë¸Œ ë©”ë‰´
â”‚   â”‚   â”œâ”€â”€ ipc/
â”‚   â”‚   â”‚   â”œâ”€â”€ fileHandlers.ts   # íŒŒì¼ ì½ê¸°/ì“°ê¸°/ê°ì‹œ
â”‚   â”‚   â”‚   â”œâ”€â”€ terminalHandlers.ts
â”‚   â”‚   â”‚   â””â”€â”€ windowHandlers.ts
â”‚   â”‚   â””â”€â”€ services/
â”‚   â”‚       â”œâ”€â”€ FileWatcher.ts    # chokidar ê¸°ë°˜
â”‚   â”‚       â”œâ”€â”€ PtyManager.ts     # node-pty ì„¸ì…˜ ê´€ë¦¬
â”‚   â”‚       â””â”€â”€ SettingsStore.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ preload/                   # Context Bridge
â”‚   â”‚   â”œâ”€â”€ index.ts
â”‚   â”‚   â””â”€â”€ index.d.ts
â”‚   â”‚
â”‚   â””â”€â”€ renderer/                  # React UI
â”‚       â”œâ”€â”€ index.html
â”‚       â”œâ”€â”€ main.tsx
â”‚       â”œâ”€â”€ App.tsx
â”‚       â”‚
â”‚       â”œâ”€â”€ components/
â”‚       â”‚   â”œâ”€â”€ layout/
â”‚       â”‚   â”‚   â”œâ”€â”€ MainLayout.tsx
â”‚       â”‚   â”‚   â”œâ”€â”€ ActivityBar.tsx
â”‚       â”‚   â”‚   â”œâ”€â”€ Sidebar.tsx
â”‚       â”‚   â”‚   â”œâ”€â”€ Divider.tsx
â”‚       â”‚   â”‚   â”œâ”€â”€ TitleBar.tsx
â”‚       â”‚   â”‚   â””â”€â”€ StatusBar.tsx
â”‚       â”‚   â”‚
â”‚       â”‚   â”œâ”€â”€ explorer/
â”‚       â”‚   â”‚   â”œâ”€â”€ FileExplorer.tsx
â”‚       â”‚   â”‚   â”œâ”€â”€ FileTreeNode.tsx
â”‚       â”‚   â”‚   â””â”€â”€ FileIcon.tsx
â”‚       â”‚   â”‚
â”‚       â”‚   â”œâ”€â”€ search/
â”‚       â”‚   â”‚   â”œâ”€â”€ SearchPanel.tsx
â”‚       â”‚   â”‚   â””â”€â”€ SearchResult.tsx
â”‚       â”‚   â”‚
â”‚       â”‚   â”œâ”€â”€ editor/
â”‚       â”‚   â”‚   â”œâ”€â”€ EditorPanel.tsx
â”‚       â”‚   â”‚   â”œâ”€â”€ TabBar.tsx
â”‚       â”‚   â”‚   â”œâ”€â”€ WysiwygEditor.tsx  # CodeMirror WYSIWYG
â”‚       â”‚   â”‚   â””â”€â”€ markdownDecorations.ts
â”‚       â”‚   â”‚
â”‚       â”‚   â””â”€â”€ terminal/
â”‚       â”‚       â”œâ”€â”€ TerminalPanel.tsx
â”‚       â”‚       â””â”€â”€ TerminalInstance.tsx
â”‚       â”‚
â”‚       â”œâ”€â”€ stores/
â”‚       â”‚   â”œâ”€â”€ editorStore.ts
â”‚       â”‚   â”œâ”€â”€ explorerStore.ts
â”‚       â”‚   â”œâ”€â”€ searchStore.ts
â”‚       â”‚   â”œâ”€â”€ terminalStore.ts
â”‚       â”‚   â”œâ”€â”€ layoutStore.ts
â”‚       â”‚   â””â”€â”€ settingsStore.ts
â”‚       â”‚
â”‚       â”œâ”€â”€ hooks/
â”‚       â”‚   â”œâ”€â”€ useFileWatcher.ts
â”‚       â”‚   â”œâ”€â”€ useCodeMirror.ts
â”‚       â”‚   â””â”€â”€ useTerminal.ts
â”‚       â”‚
â”‚       â””â”€â”€ styles/
â”‚           â””â”€â”€ global.css
â”‚
â””â”€â”€ docs/
    â””â”€â”€ SPEC.md
```

---

## 7. MVP ë¡œë“œë§µ

### Phase 1: ê¸°ë°˜ êµ¬ì¶•
- Electron + Vite + React + TypeScript í”„ë¡œì íŠ¸ ì´ˆê¸°í™”
- Main/Preload/Renderer IPC í†µì‹  í”„ë ˆì„
- ì»¤ìŠ¤í…€ íƒ€ì´í‹€ë°” (macOS traffic light)
- Activity Bar + Sidebar + Editor + Terminal 4ë‹¨ ë ˆì´ì•„ì›ƒ
- ë“œë˜ê·¸ ë¦¬ì‚¬ì´ì¦ˆ, íŒ¨ë„ í† ê¸€
- Tailwind CSS + Dark í…Œë§ˆ ê¸°ë³¸ ì ìš©

### Phase 2: ì—ë””í„° í•µì‹¬
- CodeMirror 6 í†µí•©
- WYSIWYG Markdown ë Œë”ë§ (decoration ê¸°ë°˜)
- íŒŒì¼ ì—´ê¸°/ì €ì¥ (IPC + ë„¤ì´í‹°ë¸Œ ë‹¤ì´ì–¼ë¡œê·¸)
- íƒ­ ì‹œìŠ¤í…œ
- ë¹„-Markdown íŒŒì¼ êµ¬ë¬¸ ê°•ì¡°

### Phase 3: í„°ë¯¸ë„ í†µí•©
- node-pty + xterm.js í†µí•©
- í„°ë¯¸ë„ ë¦¬ì‚¬ì´ì¦ˆ ì—°ë™ (fit addon)
- Claude Code ë“± TUI ì•± í˜¸í™˜ì„± í…ŒìŠ¤íŠ¸

### Phase 4: íŒŒì¼ íƒìƒ‰ê¸° + ê²€ìƒ‰ + ë³€ê²½ ê°ì§€
- íŒŒì¼ íŠ¸ë¦¬ ì½ê¸°/ë Œë”ë§
- .gitignore í•„í„°ë§, íŒŒì¼ ì•„ì´ì½˜
- í”„ë¡œì íŠ¸ ì „ì²´ ê²€ìƒ‰ íŒ¨ë„
- chokidar ê¸°ë°˜ íŒŒì¼ ë³€ê²½ ê°ì§€
- ì¶©ëŒ ê°ì§€ ë° í•´ê²° ë‹¤ì´ì–¼ë¡œê·¸

### Phase 5: ë§ˆê° ë° ë°°í¬
- ë ˆì´ì•„ì›ƒ ìƒíƒœ ì €ì¥/ë³µì›
- ë‹¨ì¶•í‚¤ ì‹œìŠ¤í…œ
- ìƒíƒœë°”
- electron-builder macOS .dmg íŒ¨í‚¤ì§•

---

## 8. í•µì‹¬ ë‹¨ì¶•í‚¤

| ë™ì‘ | macOS |
|------|-------|
| íŒŒì¼ ì—´ê¸° | Cmd+O |
| íŒŒì¼ ì €ì¥ | Cmd+S |
| í„°ë¯¸ë„ í† ê¸€ | Cmd+` |
| Sidebar í† ê¸€ | Cmd+B |
| ìƒˆ í„°ë¯¸ë„ | Cmd+Shift+` |
| ì—ë””í„°/í„°ë¯¸ë„ í¬ì»¤ìŠ¤ ì „í™˜ | Cmd+1 / Cmd+2 |
| ëª…ë ¹ íŒ”ë ˆíŠ¸ | Cmd+Shift+P |
| í”„ë¡œì íŠ¸ ì „ì²´ ê²€ìƒ‰ | Cmd+Shift+F |

---

## 9. ê¸°ìˆ ì  ë¦¬ìŠ¤í¬

| ë¦¬ìŠ¤í¬ | ì™„í™” ë°©ì•ˆ |
|--------|-----------|
| node-pty ë„¤ì´í‹°ë¸Œ ë¹Œë“œ (íŠ¹íˆ Apple Silicon) | electron-rebuild, prebuild-install |
| WYSIWYG êµ¬í˜„ ë³µì¡ë„ | CodeMirror 6 decoration ì‹œìŠ¤í…œ í™œìš©, ì ì§„ì  êµ¬í˜„ |
| TUI ì•± í˜¸í™˜ì„± | TERM=xterm-256color, ê°œë³„ AI ë„êµ¬ ìˆ˜ë™ í…ŒìŠ¤íŠ¸ |
| ëŒ€ìš©ëŸ‰ íŒŒì¼ ì„±ëŠ¥ | CodeMirror viewport rendering, ì„ê³„ê°’ ì´ˆê³¼ ì‹œ plain mode |
| íŒŒì¼ ë³€ê²½ ì¶©ëŒ | debounce 500ms, íŒŒì¼ í•´ì‹œ ë¹„êµ, ì¶©ëŒ ë‹¤ì´ì–¼ë¡œê·¸ |
| Electron ë³´ì•ˆ | contextIsolation: true, nodeIntegration: false |
